body {
  /* -- Typography System -- */
  --font-interface: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  --font-text: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  --font-monospace: 'Cascadia Code NF', 'Cascadia Code', 'Fira Code', 'JetBrains Mono', 'Source Code Pro', Menlo, Consolas, 'Courier New', monospace;
  --font-editor: var(--font-monospace);
  --font-serif: 'Merriweather', 'Georgia', 'Times New Roman', serif;

  /* -- Deep Twilight (Structural) -- */
  --fc-bg-main:     #121418;
  --fc-bg-surface:  #1e232d;
  --fc-bg-elevated: #2e3440;
  --fc-border:      #3b4252;
  --fc-detail:      #484f5c;

  /* -- Dawnlight (Typography) -- */
  --fc-text-faint:   #6a7280;
  --fc-text-muted:   #b2b6bf;
  --fc-text-body:    #cbced5;
  --fc-text-heading: #d8dadf;
  --fc-text-bright:  #e4e6e9;

  /* -- Ocean Blues (Primary Interaction) -- */
  --fc-act-subtle:  #5e81ac;
  --fc-act-primary: #81a1c1;
  --fc-act-focus:   #88c0d0;
  --fc-act-active:  #8fbcbb;
  --fc-act-decor:   #95b1b0;

  /* -- Vivid Accents (Semantic Feedback) -- */
  --fc-err:         #bf616a;
  --fc-warn:        #ebcb8b;
  --fc-success:     #a3be8c;
  --fc-info:        #b48ead;
  --fc-highlight:   #d08770;
}

.theme-dark {
  /* -- Base UI -- */
  --background-primary: var(--fc-bg-main);
  --background-primary-alt: var(--fc-bg-surface);
  --background-secondary: var(--fc-bg-surface);
  --background-secondary-alt: var(--fc-bg-elevated);
  --background-modifier-hover: rgba(255, 255, 255, 0.04);
  --background-modifier-active: rgba(255, 255, 255, 0.08);
  --background-modifier-border: var(--fc-bg-elevated); /* Soft Border (FC-02 instead of FC-01) */
  --background-modifier-border-hover: var(--fc-border);
  --background-modifier-border-focus: var(--fc-act-subtle);
  --background-modifier-form-field: var(--fc-bg-surface);
  --background-modifier-form-field-highlighted: var(--fc-bg-elevated);
  --background-modifier-success: var(--fc-success);
  --background-modifier-error: var(--fc-err);
  --background-modifier-error-hover: rgba(191, 97, 106, 0.2);
  --background-modifier-box-shadow: rgba(0, 0, 0, 0.2);
  
  /* -- UI Metrics -- */
  --radius-s: 2px;
  --radius-m: 4px;
  --radius-l: 6px;
  --input-radius: 4px;
  --button-radius: 4px;
  --modal-radius: 6px;
  --shadow-color: rgba(0, 0, 0, 0.2);
  --btn-shadow-color: rgba(0, 0, 0, 0.1);
  --modal-border-color: var(--fc-bg-elevated);

  /* -- Text -- */
  --text-normal: var(--fc-text-body);
  --text-muted: var(--fc-text-muted);
  --text-faint: var(--fc-text-faint);
  --text-accent: var(--fc-act-focus);
  --text-accent-hover: var(--fc-act-active);
  --text-on-accent: var(--fc-bg-main);
  --text-selection: rgba(136, 192, 208, 0.2);
  --text-highlight-bg: rgba(208, 135, 112, 0.2);
  --text-highlight-bg-active: rgba(208, 135, 112, 0.4);
  --text-error: var(--fc-err);
  --text-success: var(--fc-success);
  --text-warning: var(--fc-warn);
  --text-information: var(--fc-info);
  --text-blockquote: var(--fc-text-muted);
  --text-bold: var(--fc-text-heading);
  --text-italic: var(--fc-text-heading);
  --text-code: var(--fc-act-active);
  --text-formatting: var(--fc-detail);

  /* -- Interactive Elements -- */
  --interactive-accent: var(--fc-act-primary);
  --interactive-accent-hover: var(--fc-act-focus);
  --interactive-normal: var(--fc-bg-elevated);
  --interactive-hover: var(--fc-bg-elevated);
  
  /* -- UI Components -- */
  --titlebar-background: var(--fc-bg-main);
  --titlebar-background-focused: var(--fc-bg-surface);
  --titlebar-text-color-focused: var(--fc-text-body);
  --ribbon-background: var(--fc-bg-main);
  --sidebar-background: var(--fc-bg-surface);
  --tab-container-background: var(--fc-bg-main);
  --tab-text-color-focused-active: var(--fc-text-heading);
  --tab-outline-color: var(--fc-bg-elevated); /* Soft tab outline */
  --divider-color: var(--fc-bg-elevated);     /* Soft dividers */
  --frame-divider-color: var(--fc-bg-elevated);
  --scrollbar-thumb-bg: var(--fc-bg-elevated);
  --scrollbar-active-thumb-bg: var(--fc-border);
  --scrollbar-bg: transparent;
  --prompt-border-color: var(--fc-bg-elevated);
  --quote-opening-modifier: var(--fc-bg-elevated);
  --active-line-bg: rgba(255, 255, 255, 0.03); 
  --vault-profile-color: var(--fc-text-muted);
  --vault-profile-color-hover: var(--fc-text-body);
  --workspace-background-translucent: rgba(18, 20, 24, 0.7);

  /* -- Icons -- */
  --icon-color: var(--fc-text-faint);
  --icon-color-hover: var(--fc-text-muted);
  --icon-color-active: var(--fc-text-body);
  --icon-color-focused: var(--fc-text-body);

  /* -- Lists & Checkboxes -- */
  --list-marker-color: var(--fc-detail);
  --checkbox-color: var(--fc-act-focus);
  --checklist-done-decoration: line-through;
  --checklist-done-color: var(--fc-detail);

  /* -- Code -- */
  --code-normal: var(--fc-text-muted);
  --code-background: var(--fc-bg-surface);
  --code-comment: var(--fc-text-muted);
  --code-keyword: var(--fc-act-primary);
  --code-function: var(--fc-act-focus);
  --code-string: var(--fc-success);
  --code-value: var(--fc-info);
  --code-operator: var(--fc-highlight);
  --code-variable: var(--fc-text-body);
  --code-type: var(--fc-act-decor);

  /* -- Nav -- */
  --nav-item-background-hover: var(--fc-bg-elevated);
  --nav-item-background-active: var(--fc-border);
  --nav-item-color: var(--fc-text-faint);
  --nav-item-color-hover: var(--fc-text-muted);
  --nav-item-color-active: var(--fc-text-body);
  --nav-item-color-selected: var(--fc-text-body);
  --nav-collapse-icon-color: var(--fc-text-faint);
  --nav-collapse-icon-color-collapsed: var(--fc-text-faint);
  --nav-indentation-guide-color: var(--fc-border);

  /* -- Tables -- */
  --background-table-rows: var(--fc-bg-surface);

  /* -- Standard Colors -- */
  --color-red: var(--fc-err);
  --color-orange: var(--fc-warn);
  --color-green: var(--fc-success);
  --color-purple: var(--fc-info);
  --color-cyan: var(--fc-highlight);
  --color-blue: var(--fc-act-focus);
  --color-yellow: var(--fc-warn);
  --color-pink: var(--fc-err);
}

/* -- Editor Overrides -- */
.cm-s-obsidian span.cm-comment { color: var(--code-comment); }
.cm-s-obsidian span.cm-keyword { color: var(--code-keyword); }
.cm-s-obsidian span.cm-variable-2 { color: var(--code-variable); }
.cm-s-obsidian span.cm-variable-3 { color: var(--code-type); }
.cm-s-obsidian span.cm-string { color: var(--code-string); }
.cm-s-obsidian span.cm-number { color: var(--code-value); }
.cm-s-obsidian span.cm-operator { color: var(--code-operator); }
.cm-s-obsidian span.cm-def { color: var(--code-function); }

.cm-formatting:not(.cm-formatting-code-block):not(.cm-formatting-hashtag) {
  color: var(--text-formatting);
}